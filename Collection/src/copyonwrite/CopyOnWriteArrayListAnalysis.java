package copyonwrite;

import java.util.Arrays;

/**
 * @Author: zzStar
 * @Date: 10-12-2020 10:40
 */
public class CopyOnWriteArrayListAnalysis {

    /**
     * ä»£æ›¿Vectorå’ŒSynchronizedListï¼Œå› ä¸ºè¿™ä¸¤è€…ğŸ”’çš„ç²’åº¦å¤ªå¤§ï¼Œå¹¶å‘æ•ˆç‡ç›¸æ¯”è¾ƒä½ï¼Œå¹¶ä¸”è¿­ä»£æ—¶æ— æ³•ç¼–è¾‘
     */

    /**
     * é€‚ç”¨åœºæ™¯
     *      è¯»æ“ä½œå¯ä»¥å°½å¯èƒ½åœ°å¿«ï¼Œè€Œå†™å³ä½¿æ…¢ä¸€äº›ä¹Ÿä¸è¦ç´§ -> è¯»å¤šå†™å°‘
     */

    /**
     * è¯»å†™è§„åˆ™
     *      åœ¨è¯»å†™é”è§„åˆ™ä¸Šå‡çº§ -> è¯»å–æ˜¯å®Œå…¨ä¸ç”¨åŠ é”çš„ï¼Œå¹¶ä¸”æ›´å‰å®³çš„æ˜¯ï¼Œå†™å…¥ä¹Ÿä¸ä¼šé˜»å¡è¯»å–çš„æ“ä½œ
     *      åªæœ‰å†™å…¥å’Œå†™å…¥ä¹‹é—´éœ€è¦è¿›è¡ŒåŒæ­¥ç­‰å¾…
     */

    /**
     * ç¼ºç‚¹
     *      æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼šCopyOnWriteå®¹å™¨åªèƒ½ä¿è¯æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§ï¼Œä¸èƒ½ä¿è¯æ•°æ®çš„å®æ—¶ä¸€è‡´æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå†™å…¥çš„æ•°æ®æ— æ³•é©¬ä¸Šè¯»åˆ°
     *      å†…å­˜å ç”¨é—®é¢˜ï¼šCopyOnWriteå†™çš„æ˜¯å¤åˆ¶æœºåˆ¶ï¼Œæ‰€æœ‰åœ¨è¿›è¡Œå†™æ“ä½œçš„æ—¶å€™ï¼Œå†…å­˜ä¸­ä¼šåŒæ—¶é©»æ‰ä¸¤ä¸ªå¯¹è±¡çš„å†…å­˜
     */

/*
    public boolean add(E e) {
        synchronized (lock) {
            Object[] es = getArray();
            int len = es.length;
            es = Arrays.copyOf(es, len + 1);
            es[len] = e;
            setArray(es);
            return true;
        }
    }

        //getå¹¶æœªåŠ é”ï¼Œåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½å¯ä»¥ä½¿ç”¨,ä¸ä¼šå‡ºç°é˜»å¡
        public E get(int index) {
        return elementAt(getArray(), index);
    }


        static <E> E elementAt(Object[] a, int index) {
        return (E) a[index];
    }

*/

}
